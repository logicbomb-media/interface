{"version":3,"sources":["webpack:///./src/components/utilities/ForceSave.vue?1ac5","webpack:///src/components/utilities/ForceSave.vue","webpack:///./src/components/utilities/ForceSave.vue?9de6","webpack:///./src/components/utilities/ForceSave.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","show","scopedSlots","_u","key","fn","_v","proxy","forceSavePage","refreshPage","_e","staticRenderFns","name","components","AdminContainer","data","computed","mounted","window","deviseSettings","$bus","$on","methods","savePage","location","reload","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAQ,KAAEI,EAAG,MAAM,CAACE,YAAY,2JAA2J,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIS,MAAO,MAAUL,EAAG,kBAAkB,CAACE,YAAY,6BAA6BI,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACb,EAAIc,GAAG,gDAAgDV,EAAG,MAAMJ,EAAIc,GAAG,kDAAkDC,OAAM,GAAM,CAACH,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACT,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIc,GAAG,2PAA2PV,EAAG,SAAS,CAACJ,EAAIc,GAAG,qDAAqDd,EAAIc,GAAG,QAAQV,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,kCAAkCC,GAAG,CAAC,MAAQP,EAAIgB,gBAAgB,CAAChB,EAAIc,GAAG,kCAAkCV,EAAG,SAAS,CAACE,YAAY,4BAA4BC,GAAG,CAAC,MAAQP,EAAIiB,cAAc,CAACjB,EAAIc,GAAG,gDAAgDC,OAAM,IAAO,MAAK,EAAM,aAAa,GAAGf,EAAIkB,MACz1CC,EAAkB,G,wDC2CtB,GACEC,KAAM,kBAENC,WAAY,CACVC,eAAgB,WAApB,yDAGEC,KAPF,WAQI,MAAO,CACLd,MAAM,IAIVe,SAAU,OAAZ,OAAY,CAAZ,GACA,0CAGEC,QAjBF,WAiBA,WACIC,OAAOC,eAAeC,KAAKC,IAAI,iBAAiB,WAC9C,EAAN,YAGEC,QAAS,OAAX,OAAW,CAAX,kBACA,uCADA,IAEId,cAFJ,WAEA,WACMf,KAAK8B,SAAS,CAApB,sDACQ,EAAR,YAGId,YAPJ,WAQMS,OAAOM,SAASC,aC1E4U,I,YCO9VC,EAAY,eACd,EACAnC,EACAoB,GACA,EACA,KACA,KACA,MAIa,aAAAe,E","file":"js/chunk-2d0de563.0c790086.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"\\n    dvs-h-screen\\n    dvs-fixed\\n    dvs-inset-0\\n    dvs-flex\\n    dvs-justify-center\\n    dvs-items-center\\n    dvs-z-60\\n    dvs-text-gray-800\\n  \"},[_c('div',{staticClass:\"dvs-blocker dvs-z-30\",on:{\"click\":function($event){_vm.show = false}}}),_c('admin-container',{staticClass:\"dvs-z-40 dvs-text-admin-fg\",scopedSlots:_vm._u([{key:\"message\",fn:function(){return [_vm._v(\" Uh-oh! There was an error saving your page.\"),_c('br'),_vm._v(\" There were two editors at the same time... \")]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"mb-8\"},[_vm._v(\" Ok, don't panic. However, it appears that someone else has edited this page as you were editing the page. You need to decide what you want to do. You can either abandon changes, refresh the page and try again. Or, you can go ahead and force save \"),_c('strong',[_vm._v(\"which will overwrite the other editor's changes\")]),_vm._v(\". \")]),_c('div',[_c('button',{staticClass:\"dvs-btn dvs-btn-danger dvs-mr-2\",on:{\"click\":_vm.forceSavePage}},[_vm._v(\" Yes, force save my changes \")]),_c('button',{staticClass:\"dvs-btn dvs-btn-secondary\",on:{\"click\":_vm.refreshPage}},[_vm._v(\" Refresh the page and lose my changes \")])])]},proxy:true}],null,false,52082455)})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"show\"\n    class=\"\n      dvs-h-screen\n      dvs-fixed\n      dvs-inset-0\n      dvs-flex\n      dvs-justify-center\n      dvs-items-center\n      dvs-z-60\n      dvs-text-gray-800\n    \"\n  >\n    <div class=\"dvs-blocker dvs-z-30\" @click=\"show = false\"></div>\n\n    <admin-container class=\"dvs-z-40 dvs-text-admin-fg\">\n      <template v-slot:message>\n        Uh-oh! There was an error saving your page.<br />\n        There were two editors at the same time...\n      </template>\n      <template v-slot:content>\n        <div class=\"mb-8\">\n          Ok, don't panic. However, it appears that someone else has edited this page as you were\n          editing the page. You need to decide what you want to do. You can either abandon changes,\n          refresh the page and try again. Or, you can go ahead and force save\n          <strong>which will overwrite the other editor's changes</strong>.\n        </div>\n        <div>\n          <button class=\"dvs-btn dvs-btn-danger dvs-mr-2\" @click=\"forceSavePage\">\n            Yes, force save my changes\n          </button>\n          <button class=\"dvs-btn dvs-btn-secondary\" @click=\"refreshPage\">\n            Refresh the page and lose my changes\n          </button>\n        </div>\n      </template>\n    </admin-container>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\n  name: 'DeviseForceSave',\n\n  components: {\n    AdminContainer: () => import('../admin/ui/AdminContainer.vue'),\n  },\n\n  data() {\n    return {\n      show: false,\n    }\n  },\n\n  computed: {\n    ...mapGetters('devise', ['currentPage']),\n  },\n\n  mounted() {\n    window.deviseSettings.$bus.$on('showForceSave', () => {\n      this.show = true\n    })\n  },\n  methods: {\n    ...mapActions('devise', ['savePage']),\n    forceSavePage() {\n      this.savePage({ page: this.currentPage, forceSave: true }).then(() => {\n        this.show = false\n      })\n    },\n    refreshPage() {\n      window.location.reload()\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForceSave.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForceSave.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ForceSave.vue?vue&type=template&id=d47a183a&\"\nimport script from \"./ForceSave.vue?vue&type=script&lang=js&\"\nexport * from \"./ForceSave.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}