{"version":3,"sources":["webpack:///./src/components/installer/items/Site.vue?09d7","webpack:///src/components/installer/items/Site.vue","webpack:///./src/components/installer/items/Site.vue?6600","webpack:///./src/components/installer/items/Site.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","item","slot","staticClass","_v","_e","class","directives","name","rawName","value","newSite","expression","domProps","on","$event","target","composing","$set","languages","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","_l","language","key","id","_s","code","preventDefault","attemptCreateSite","staticRenderFns","components","DeviseInstallerItem","Help","props","type","Boolean","required","data","domain","selectedLanguage","settings","computed","methods","count","push","createSite","createLanguage","then","component"],"mappings":"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","file":"js/chunk-2d21408e.e472b37e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('devise-installer-item',{attrs:{\"id\":\"nav-site\",\"item\":_vm.item,\"title\":\"First Site and Language (required)\"}},[_c('template',{slot:\"instructions\"},[_c('p',{staticClass:\"dvs-mb-4\"},[_vm._v(\" Devise works as a multi-tenant system out of the box meaning that you can run multiple sites under the same code base. Even if you are running only one domain Devise needs to know about it. Use the form to the right to set this up. \")]),_c('p',{staticClass:\"dvs-mb-4\"},[_vm._v(\" Each site also needs a language. You can assign any number of languages once you have completed installation. The language should be the \"),_c('a',{attrs:{\"href\":\"https://www.loc.gov/standards/iso639-2/php/code_list.php\"}},[_vm._v(\"ISO Code\")]),_vm._v(\" of that language \")]),_c('help',[_c('p',{staticClass:\"dvs-mb-4\"},[_vm._v(\" The domain should not include the http or https:// protocol identifier. So your site entry could be \\\"my-super-awesome-site.com\\\" or \\\"sub-domain.my-super-awesome-site.com\\\". To Support development environments you can override these values in your .env file in the root of your project with something like \\\"SITE_1_DOMAIN=my-super-awesome-site.test\\\" for your local development or staging. \")]),_c('p',[_c('strong',[_vm._v(\"Important:\")]),_vm._v(\" The domain should be the \"),_c('em',[_vm._v(\"final\")]),_vm._v(\" domain name. If you're working on this site locally you will need to add an override in your .env file like the example to the right. \")])])],1),_c('template',{slot:\"example\"},[_c('h3',{staticClass:\"dvs-mb-4\"},[_vm._v(\" Create Your first Site \"),(_vm.item)?[_vm._v(\"(Already Created)\")]:_vm._e()],2),_c('form',{staticClass:\"dvs-mb-8\",class:{ 'dvs-opacity-50': _vm.item }},[_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',[_vm._v(\"Site Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newSite.name),expression:\"newSite.name\"}],attrs:{\"type\":\"text\",\"disabled\":_vm.item},domProps:{\"value\":(_vm.newSite.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newSite, \"name\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',[_vm._v(\"Site's Actual Domain (See below)\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newSite.domain),expression:\"newSite.domain\"}],attrs:{\"type\":\"text\",\"disabled\":_vm.item},domProps:{\"value\":(_vm.newSite.domain)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newSite, \"domain\", $event.target.value)}}})]),(_vm.languages.count)?_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-6\"},[_c('label',[_vm._v(\"Default Language\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newSite.selectedLanguage),expression:\"newSite.selectedLanguage\"}],attrs:{\"disabled\":_vm.item},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newSite, \"selectedLanguage\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Select a Language\")]),_vm._l((_vm.languages),function(language){return _c('option',{key:language.id,domProps:{\"value\":language.id}},[_vm._v(\" \"+_vm._s(language.code)+\" \")])})],2)]):_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-6\"},[_c('label',[_vm._v(\"Default Language\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newSite.code),expression:\"newSite.code\"}],attrs:{\"type\":\"text\",\"disabled\":_vm.item},domProps:{\"value\":(_vm.newSite.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newSite, \"code\", $event.target.value)}}})]),_c('button',{staticClass:\"dvs-btn dvs-bg-green-500 dvs-text-white\",attrs:{\"type\":\"submit\",\"disabled\":_vm.item},on:{\"click\":function($event){$event.preventDefault();return _vm.attemptCreateSite()}}},[_vm._v(\" Create Site \")])]),_c('h3',{staticClass:\"dvs-mb-4\"},[_vm._v(\"A note on the domain during development\")]),_c('p',[_vm._v(\" If you're working locally using something like Larvel's Valet or Homestead make sure you provide the acutal domain name above and add a development override in your local .env file. Since this is the first site it needs to have a \\\"1\\\" (which will be the ID of the site) \")]),_c('pre',{staticClass:\"lang-bash\",attrs:{\"data-start\":\"1\"}},[_vm._v(\"      \"),_c('code',[_vm._v(\"\\n        DVS_DOMAIN_OVERWRITES_ENABLED=true\\n        SITE_1_DOMAIN=project-name.test \\n      \")]),_vm._v(\"\\n    \")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <devise-installer-item id=\"nav-site\" :item=\"item\" title=\"First Site and Language (required)\">\n    <template slot=\"instructions\">\n      <p class=\"dvs-mb-4\">\n        Devise works as a multi-tenant system out of the box meaning that you can run multiple sites\n        under the same code base. Even if you are running only one domain Devise needs to know about\n        it. Use the form to the right to set this up.\n      </p>\n      <p class=\"dvs-mb-4\">\n        Each site also needs a language. You can assign any number of languages once you have\n        completed installation. The language should be the\n        <a href=\"https://www.loc.gov/standards/iso639-2/php/code_list.php\">ISO Code</a> of that\n        language\n      </p>\n\n      <help>\n        <p class=\"dvs-mb-4\">\n          The domain should not include the http or https:// protocol identifier. So your site entry\n          could be \"my-super-awesome-site.com\" or \"sub-domain.my-super-awesome-site.com\". To Support\n          development environments you can override these values in your .env file in the root of\n          your project with something like \"SITE_1_DOMAIN=my-super-awesome-site.test\" for your local\n          development or staging.\n        </p>\n        <p>\n          <strong>Important:</strong> The domain should be the <em>final</em> domain name. If you're\n          working on this site locally you will need to add an override in your .env file like the\n          example to the right.\n        </p>\n      </help>\n    </template>\n\n    <template slot=\"example\">\n      <h3 class=\"dvs-mb-4\">\n        Create Your first Site\n        <template v-if=\"item\">(Already Created)</template>\n      </h3>\n      <form class=\"dvs-mb-8\" :class=\"{ 'dvs-opacity-50': item }\">\n        <fieldset class=\"dvs-fieldset dvs-mb-4\">\n          <label>Site Name</label>\n          <input v-model=\"newSite.name\" type=\"text\" :disabled=\"item\" />\n        </fieldset>\n        <fieldset class=\"dvs-fieldset dvs-mb-4\">\n          <label>Site's Actual Domain (See below)</label>\n          <input v-model=\"newSite.domain\" type=\"text\" :disabled=\"item\" />\n        </fieldset>\n        <fieldset v-if=\"languages.count\" class=\"dvs-fieldset dvs-mb-6\">\n          <label>Default Language</label>\n          <select v-model=\"newSite.selectedLanguage\" :disabled=\"item\">\n            <option :value=\"null\">Select a Language</option>\n            <option v-for=\"language in languages\" :key=\"language.id\" :value=\"language.id\">\n              {{ language.code }}\n            </option>\n          </select>\n        </fieldset>\n        <fieldset v-else class=\"dvs-fieldset dvs-mb-6\">\n          <label>Default Language</label>\n          <input v-model=\"newSite.code\" type=\"text\" :disabled=\"item\" />\n        </fieldset>\n        <button\n          type=\"submit\"\n          class=\"dvs-btn dvs-bg-green-500 dvs-text-white\"\n          :disabled=\"item\"\n          @click.prevent=\"attemptCreateSite()\"\n        >\n          Create Site\n        </button>\n      </form>\n\n      <h3 class=\"dvs-mb-4\">A note on the domain during development</h3>\n      <p>\n        If you're working locally using something like Larvel's Valet or Homestead make sure you\n        provide the acutal domain name above and add a development override in your local .env file.\n        Since this is the first site it needs to have a \"1\" (which will be the ID of the site)\n      </p>\n      <pre class=\"lang-bash\" data-start=\"1\">\n        <code>\n          DVS_DOMAIN_OVERWRITES_ENABLED=true\n          SITE_1_DOMAIN=project-name.test \n        </code>\n      </pre>\n    </template>\n  </devise-installer-item>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\n\nexport default {\n  components: {\n    DeviseInstallerItem: () => import('../Item.vue'),\n    Help: () =>\n      import(\n        // eslint-disable-next-line max-len\n        '../../utilities/Help.vue'\n      ),\n  },\n\n  props: {\n    item: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      newSite: {\n        name: '',\n        domain: '',\n        code: 'en',\n        selectedLanguage: null,\n        languages: [],\n        settings: {},\n      },\n    }\n  },\n  computed: {\n    ...mapState('devise', {\n      languages: (state) => state.languages.data,\n    }),\n  },\n  methods: {\n    ...mapActions('devise', ['createSite', 'createLanguage']),\n    attemptCreateSite() {\n      // If a language hasn't been created yet\n      if (!this.languages.count) {\n        this.createLanguage(this.newSite).then((response) => {\n          this.newSite.languages = []\n          this.newSite.languages.push({ id: response.data.data.id, default: 1 })\n          this.createSite(this.newSite)\n        })\n      } else {\n        // If a language was created but the site failed we will end up here\n        this.newSite.languages = []\n        this.newSite.languages.push({ id: this.newSite.selectedLanguage, default: 1 })\n        this.createSite(this.newSite)\n      }\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Site.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Site.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Site.vue?vue&type=template&id=2cc086a9&\"\nimport script from \"./Site.vue?vue&type=script&lang=js&\"\nexport * from \"./Site.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}