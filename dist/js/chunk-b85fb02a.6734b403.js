(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b85fb02a"],{"06c5":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s("fb6a"),s("d3b7"),s("b0c0"),s("a630"),s("3ca3");var n=s("6b75");function a(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Object(n["a"])(e,t):void 0}}},"4df4":function(e,t,s){"use strict";var n=s("0366"),a=s("7b0b"),r=s("9bdd"),i=s("e95a"),d=s("50c4"),o=s("8418"),l=s("35a1");e.exports=function(e){var t,s,u,c,v,f,g=a(e),h="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,m=void 0!==b,y=l(g),S=0;if(m&&(b=n(b,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&i(y))for(t=d(g.length),s=new h(t);t>S;S++)f=m?b(g[S],S):g[S],o(s,S,f);else for(c=y.call(g),v=c.next,s=new h;!(u=v.call(c)).done;S++)f=m?r(c,b,[u.value,S],!0):u.value,o(s,S,f);return s.length=S,s}},"6b75":function(e,t,s){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}s.d(t,"a",(function(){return n}))},"9bdd":function(e,t,s){var n=s("825a"),a=s("2a62");e.exports=function(e,t,s,r){try{return r?t(n(s)[0],s[1]):t(s)}catch(i){throw a(e),i}}},a501:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"dvs-flex dvs-justify-center dvs-p-4 dvs-pb-8 dvs-text-admin-fg dvs-w-full"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],ref:"filter",staticClass:"\n        dvs-bg-transparent\n        dvs-border-b-2\n        dvs-px-12\n        dvs-py-2\n        dvs-text-admin-fg\n        dvs-outline-none\n        dvs-placeholder-admin-fg\n        dvs-text-center\n      ",attrs:{type:"text",placeholder:e.value.label},domProps:{value:e.filter},on:{keyup:e.requestSearch,input:function(t){t.target.composing||(e.filter=t.target.value)}}}),s("div",{staticClass:"dvs-cursor-pointer",class:{"dvs-opacity-50":""===e.filter},on:{click:e.resetSearch}},[s("x-icon")],1)]),s("ul",e._l(e.filteredSuggestions,(function(t,n){return s("li",{key:n,staticClass:"\n        dvs-bg-admin-bg dvs-shadow\n        hover:dvs-shadow-lg\n        dvs-rounded dvs-my-4 dvs-p-2 dvs-cursor-pointer\n      ",on:{click:function(s){return e.selectSuggestion(t)}}},[s("div",{staticClass:"dvs-text-lg dvs-mb-2"},[e._v(e._s(t.displayFields[0].value))]),s("ul",{staticClass:"dvs-flex"},e._l(e.subLabelFields(t.displayFields),(function(t,n){return s("li",{key:n,staticClass:"dvs-mr-4 dvs-text-xs dvs-leading-tight"},[s("div",{staticClass:"dvs-uppercase dvs-text-xs dvs-text-admin-secondary-fg"},[e._v(" "+e._s(t.label)+" ")]),s("div",[e._v(e._s(e.format(t)))])])})),0)])})),0),s("draggable",e._b({attrs:{list:e.selected,tag:"ul"}},"draggable",{group:{name:"g1"},animation:200,ghostClass:"dvs-ghost",handle:".handle",dragClass:"dvs-chosen-drag-slice",emptyInsertThreshold:10,removeCloneOnHide:!1},!1),e._l(e.selected,(function(t,n){return s("li",{key:n,staticClass:"\n        dvs-flex dvs-bg-admin-secondary-bg dvs-text-admin-secondary-fg dvs-shadow\n        hover:dvs-shadow-lg\n        dvs-rounded dvs-my-4 dvs-p-4 dvs-cursor-pointer\n      "},[e.modelQuerySettings.allowSort?s("div",{staticClass:"dvs-mr-4 handle"},[s("menu-icon")],1):e._e(),t.displayFields?s("div",{staticClass:"dvs-w-full"},[s("div",{staticClass:"dvs-text-lg dvs-mb-2"},[e._v(e._s(t.displayFields[0].value))]),s("ul",{staticClass:"dvs-flex"},e._l(e.subLabelFields(t.displayFields),(function(t,n){return s("li",{key:n,staticClass:"\n              dvs-mr-4\n              dvs-text-xs\n              dvs-leading-tight\n              dvs-w-1/4\n              dvs-bg-admin-bg\n              dvs-text-admin-fg\n              dvs-rounded\n              dvs-p-3\n              opacity-75\n            "},[s("div",{staticClass:"dvs-uppercase dvs-text-xs"},[e._v(e._s(t.label))]),s("div",[e._v(e._s(e.format(t)))])])})),0)]):e._e(),s("div",{staticClass:"dvs-cursor-pointer",on:{click:function(s){return e.removeSuggestion(t)}}},[s("x-icon")],1)])})),0)],1)},a=[],r=s("6b75");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("a630");function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=s("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||d(e)||Object(o["a"])(e)||l()}var c=s("5530"),v=(s("4de4"),s("7db0"),s("a434"),s("159b"),s("a15b"),s("5a0c")),f=s.n(v),g=s("2f62"),h={name:"DeviseQuerySelectorSearch",components:{draggable:function(){return s.e("chunk-4a5f46a6").then(s.t.bind(null,"b76a",7))},XIcon:function(){return s.e("chunk-ac37b4d4").then(s.bind(null,"1a4e"))},MenuIcon:function(){return s.e("chunk-ac32a588").then(s.bind(null,"83e1"))}},props:{value:{type:Array,required:!0},modelQuery:{type:Object,required:!0},modelQuerySettings:{type:Object,required:!0}},data:function(){return{filter:null,autosuggest:{data:[]}}},computed:{selected:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},filteredSuggestions:function(){var e=this;return this.autosuggest.data?this.autosuggest.data.filter((function(t){return!e.selected.find((function(e){return t===e}))})):[]}},mounted:function(){this.value&&this.value.length>0&&this.requestLegacySelected()},methods:Object(c["a"])(Object(c["a"])({},Object(g["b"])("devise",["appGenericSearch","getGeneric"])),{},{selectSuggestion:function(e){this.selected.push(e),this.resetSearch()},removeSuggestion:function(e){this.resetSearch(),this.selected.splice(this.selected.indexOf(e),1)},resetSearch:function(){this.filter=null,this.$set(this.autosuggest,"data",[])},requestSearch:function(e){var t=this,s=e.target.value;if(""!==s){var n=[];this.selected.forEach((function(e){n.push(e.id)}));var a={searchterm:s,selected:n};this.appGenericSearch({config:{apiendpoint:this.modelQuery.params[0].api},filters:a}).then((function(e){t.autosuggest=e.data,e.data.length<1&&window.deviseSettings.$bus.$emit("showMessage",{title:"No Suggestions Found",message:"We couldn't find any data with the term: \"".concat(s,'".')})}))}else this.autosuggest=Object.assign({},{})},subLabelFields:function(e){var t=JSON.parse(JSON.stringify(e));return t.shift(),t},format:function(e){return e.dateFormat?f()(e.value).format(e.dateFormat):e.value},requestLegacySelected:function(){var e=this;this.modelQuery.params[0].editApi?this.getGeneric({config:{apiendpoint:this.modelQuery.params[0].editApi,app:!0},filters:{ids:this.value.join(",")}}).then((function(t){e.selected=u(t.data.data)})):console.warn("Devise: You must have an editApi endpoint configured AppServiceProvider ModelQuery::set to edit model slices")}})},p=h,b=s("2877"),m=Object(b["a"])(p,n,a,!1,null,null,null);t["default"]=m.exports},a630:function(e,t,s){var n=s("23e7"),a=s("4df4"),r=s("1c7e"),i=!r((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:a})}}]);
//# sourceMappingURL=chunk-b85fb02a.6734b403.js.map