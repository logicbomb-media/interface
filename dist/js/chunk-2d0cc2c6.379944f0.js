(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc2c6"],{"4d99":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("admin-container",{staticClass:"dvs-mt-16",scopedSlots:e._u([{key:"message",fn:function(){return[e._v(" This allows you to copy slice (field data and all!) to another page. ")]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"dvs-p-8 dvs-text-admin-fg"},[t("div",{staticClass:"dvs-mb-8"},[t("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[t("label",[e._v("Site to copy to")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.siteToCopyTo,expression:"siteToCopyTo"}],staticClass:"dvs-w-full",on:{change:[function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.siteToCopyTo=s.target.multiple?t:t[0]},e.clearSearch]}},e._l(e.sites.data,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(" "+e._s(s.name)+" ")])})),0)]),t("fieldset",{staticClass:"dvs-fieldset"},[t("label",[e._v("Search for Page")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"dvs-w-full",attrs:{type:"text"},domProps:{value:e.searchTerm},on:{keyup:e.requestSearch,input:function(s){s.target.composing||(e.searchTerm=s.target.value)}}})]),t("div",{staticClass:"dvs-fixed dvs-z-10 dvs-w-1/3"},[t("ul",{staticClass:"dvs-bg-white dvs-absolute dvs-text-black dvs-rounded-sm dvs-mt-2 dvs-text-sm"},e._l(e.searchResults,(function(s){return t("li",{key:s.id,staticClass:"dvs-px-4 dvs-py-2 dvs-border-b dvs-border-gray-500dvs-cursor-pointer",on:{click:function(t){return e.selectPage(s)}}},[e._v(" "+e._s(s.site)+": "+e._s(s.title)+" - "+e._s(s.verison_name)+" ("+e._s(s.language)+") ")])})),0)])]),e.pageToCopyTo.site?t("div",{staticClass:"dvs-mb-8"},[e._v(" Copying to: "+e._s(e.pageToCopyTo.site)+" "+e._s(e.pageToCopyTo.title)+" "+e._s(e.pageToCopyTo.verison_name)+" ("+e._s(e.pageToCopyTo.language)+") ")]):e._e(),t("button",{staticClass:"dvs-btn dvs-btn-primary dvs-mr-2",attrs:{disabled:!e.pageToCopyTo.site},on:{click:e.confirmCopy}},[e._v(" Confirm ")]),t("button",{staticClass:"dvs-btn dvs-btn-secondary",on:{click:e.close}},[e._v("Cancel")])])]},proxy:!0}])})},o=[],i=t("5530"),n=(t("d3b7"),t("3ca3"),t("ddb0"),t("fb6a"),t("2f62")),c={name:"CopySliceToPage",components:{AdminContainer:function(){return t.e("chunk-2d0e6364").then(t.bind(null,"987f"))}},props:{slice:{type:Object,required:!0}},data:function(){return{searchTerm:"",searchResults:[],siteToCopyTo:null,pageToCopyTo:{}}},computed:Object(i["a"])({},Object(n["e"])("devise",["sites"])),mounted:function(){this.siteToCopyTo=this.currentPage.site.id},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])("devise",["searchPageVersions","copyPageSlice"])),{},{requestSearch:function(){var e=this;this.searchPageVersions({term:this.searchTerm,site_id:this.siteToCopyTo}).then((function(s){for(var t in e.searchResults=[],s.data)if(s.data[t]){var a=s.data[t];a.site_id===e.siteToCopyTo&&e.searchResults.push(a)}}))},selectPage:function(e){this.pageToCopyTo=Object.assign({},e),this.clearSearch()},confirmCopy:function(){var e=this;this.copyPageSlice({copy_slice_id:this.slice.metadata.instance_id,page_version_id:this.pageToCopyTo.id}).then((function(){e.close()}))},clearSearch:function(){this.searchResults=[],this.searchTerm=""},close:function(){this.$emit("close")}})},r=c,l=t("2877"),d=Object(l["a"])(r,a,o,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0cc2c6.379944f0.js.map