{"version":3,"sources":["webpack:///./src/components/media-manager/media-selector/OpenMediaFile.vue?9208","webpack:///src/components/media-manager/media-selector/OpenMediaFile.vue","webpack:///./src/components/media-manager/media-selector/OpenMediaFile.vue?fd38","webpack:///./src/components/media-manager/media-selector/OpenMediaFile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","stopPropagation","preventDefault","closeFile","file","directives","name","rawName","value","expression","loaded","_e","key","callback","confirmedDeleteFile","arguments","message","_v","_s","domProps","url","target","composing","$set","requestSaveCaption","selectSourceFile","isActive","_l","field","id","page_slug","page_title","field_name","staticRenderFns","components","LoadingScreen","TrashIcon","CloseIcon","LinkIcon","DownloadIcon","props","type","Object","default","methods","$emit","image","alt_text","alt","saveCaption","payload","deleteFile","then","used_count","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,cAAc,CAAEN,EAAQ,KAAEI,EAAG,MAAM,CAACG,YAAY,iOAAiO,CAACH,EAAG,MAAM,CAACG,YAAY,+EAA+EC,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBX,EAAIY,UAAUZ,EAAIa,SAAS,CAACT,EAAG,aAAa,CAACE,MAAM,CAAC,EAAI,KAAK,EAAI,SAAS,GAAGF,EAAG,MAAM,CAACG,YAAY,gEAAgE,CAACH,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,WAAW,CAACF,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOjB,EAAIa,KAAW,OAAEK,WAAW,gBAAgBX,YAAY,8BAA8BD,MAAM,CAAC,IAAO,mBAAsBN,EAAIa,KAAQ,IAAI,gBAAiBL,GAAG,CAAC,KAAO,SAASC,GAAQT,EAAIa,KAAKM,QAAS,QAAanB,EAAIa,KAAKM,OAAkHnB,EAAIoB,KAA9GhB,EAAG,iBAAiB,CAACiB,IAAI,gBAAgBf,MAAM,CAAC,QAAS,EAAK,iBAAiB,4BAAqC,GAAGF,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,uBAAuBC,QAAQ,yBAAyBC,MAAM,CACx0CK,SAAUtB,EAAIuB,oBACdC,UAAWxB,EAAIa,KACfY,QAAS,+CACRP,WAAW,0KAA0KX,YAAY,iDAAiD,CAACH,EAAG,aAAa,CAACE,MAAM,CAAC,EAAI,KAAK,EAAI,SAAS,GAAGF,EAAG,IAAI,CAACG,YAAY,6BAA6BD,MAAM,CAAC,KAAQ,mBAAsBN,EAAIa,KAAQ,IAAG,OAAS,WAAW,CAACT,EAAG,YAAY,CAACE,MAAM,CAAC,EAAI,KAAK,EAAI,SAAS,GAAGF,EAAG,IAAI,CAACG,YAAY,oBAAoBD,MAAM,CAAC,KAAQ,mBAAsBN,EAAIa,KAAQ,IAAG,OAAS,SAAS,SAAW,KAAK,CAACT,EAAG,gBAAgB,CAACE,MAAM,CAAC,EAAI,KAAK,EAAI,SAAS,OAAOF,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,KAAK,CAACG,YAAY,sCAAsC,CAACP,EAAI0B,GAAG,cAActB,EAAG,IAAI,CAACG,YAAY,eAAe,CAACP,EAAI0B,GAAG1B,EAAI2B,GAAG3B,EAAIa,KAAKE,SAASX,EAAG,WAAW,CAACG,YAAY,yBAAyB,CAACH,EAAG,QAAQ,CAACG,YAAY,sCAAsC,CAACP,EAAI0B,GAAG,SAAStB,EAAG,QAAQ,CAACG,YAAY,SAASD,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIsB,SAAS,CAAC,MAAQ5B,EAAIa,KAAKgB,SAASzB,EAAG,WAAW,CAACG,YAAY,yBAAyB,CAACH,EAAG,QAAQ,CAACG,YAAY,sCAAsC,CAACP,EAAI0B,GAAG,oBAAoBtB,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOjB,EAAIa,KAAQ,IAAEK,WAAW,aAAaX,YAAY,WAAWD,MAAM,CAAC,KAAO,QAAQsB,SAAS,CAAC,MAAS5B,EAAIa,KAAQ,KAAGL,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOqB,OAAOC,WAAqB/B,EAAIgC,KAAKhC,EAAIa,KAAM,MAAOJ,EAAOqB,OAAOb,WAAWb,EAAG,SAAS,CAACG,YAAY,qCAAqCC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIiC,mBAAmBjC,EAAIa,SAAS,CAACb,EAAI0B,GAAG,wBAAwBtB,EAAG,IAAI,CAACA,EAAG,SAAS,CAACG,YAAY,qCAAqCC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIkC,iBAAiBlC,EAAIa,SAAS,CAACb,EAAI0B,GAAG,gBAAiB1B,EAAImC,SAASnC,EAAIa,MAAO,CAACT,EAAG,KAAK,CAACG,YAAY,wBAAwB,CAACP,EAAI0B,GAAG,gBAAgBtB,EAAG,KAAKJ,EAAIoC,GAAIpC,EAAIa,KAAW,QAAE,SAASwB,GAAO,OAAOjC,EAAG,KAAK,CAACiB,IAAIgB,EAAMC,GAAG/B,YAAY,YAAY,CAACH,EAAG,IAAI,CAACG,YAAY,qBAAqBD,MAAM,CAAC,KAAO+B,EAAME,UAAU,OAAS,WAAW,CAACvC,EAAI0B,GAAG,IAAI1B,EAAI2B,GAAGU,EAAMG,YAAY,MAAMxC,EAAI2B,GAAGU,EAAMI,YAAY,YAAW,IAAIzC,EAAIoB,MAAM,KAAKpB,EAAIoB,QAAQ,IAC3uEsB,EAAkB,G,wDC+GtB,GACE3B,KAAM,sBACN4B,WAAY,CACVC,cAAe,WAAnB,wDACIC,UAAW,WAAf,wDACIC,UAAW,WAAf,wDACIC,SAAU,WAAd,wDACIC,aAAc,WAAlB,yDAEEC,MAAO,CACLpC,KAAM,CACJqC,KAAMC,OACNC,QAAS,OAGbC,QAAS,OAAX,OAAW,CAAX,kBACA,uDADA,IAEInB,iBAFJ,SAEA,GACMjC,KAAKqD,MAAM,mBAAoBzC,IAEjCoB,mBALJ,SAKA,GACM,IAAN,GACQsB,MAAO1C,EAAKgB,IACZ2B,SAAU3C,EAAK4C,KAEjBxD,KAAKyD,YAAYC,IAEnBpC,oBAZJ,SAYA,cACMtB,KAAK2D,WAAW/C,GAAMgD,MAAK,WACzB,EAAR,yBAGIjD,UAjBJ,WAkBMX,KAAKqD,MAAM,UAEbnB,SApBJ,SAoBA,GACM,OAAOtB,EAAKiD,WAAa,MCxJsV,I,YCOjXC,EAAY,eACd,EACAhE,EACA2C,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/chunk-2d207b27.d7a2a48d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"name\":\"fast-fade\"}},[(_vm.file)?_c('div',{staticClass:\"\\n        dvs-flex\\n        dvs-p-4\\n        dvs-overflow-hidden\\n        dvs-fixed\\n        dvs-absolute-center\\n        dvs-z-50\\n        dvs-bg-white\\n        dvs-p-8\\n        dvs-rounded\\n        dvs-shadow-lg\\n      \"},[_c('div',{staticClass:\"dvs-absolute z-10 dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4 dvs-cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeFile(_vm.file)}}},[_c('close-icon',{attrs:{\"w\":\"30\",\"h\":\"30\"}})],1),_c('div',{staticClass:\"dvs-w-1/2 dvs-mr-8 dvs-flex dvs-flex-col dvs-justify-between\"},[_c('div',[_c('transition',{attrs:{\"name\":\"dvs-fade\",\"mode\":\"out-in\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.file.loaded),expression:\"file.loaded\"}],staticClass:\"dvs-cursor-pointer dvs-mb-4\",attrs:{\"src\":(\"/styled/preview/\" + (_vm.file.url) + \"?w=500&h=500\")},on:{\"load\":function($event){_vm.file.loaded = true}}})]),(!_vm.file.loaded)?_c('loading-screen',{key:\"loadingscreen\",attrs:{\"inline\":true,\"inline-message\":\"Loading Large Preview\"}}):_vm._e()],1),_c('div',{staticClass:\"dvs-flex\"},[_c('div',{directives:[{name:\"devise-alert-confirm\",rawName:\"v-devise-alert-confirm\",value:({\n              callback: _vm.confirmedDeleteFile,\n              arguments: _vm.file,\n              message: 'Are you sure you want to delete this media?',\n            }),expression:\"{\\n              callback: confirmedDeleteFile,\\n              arguments: file,\\n              message: 'Are you sure you want to delete this media?',\\n            }\"}],staticClass:\"dvs-mr-4 dvs-cursor-pointer dvs-text-admin-bg\"},[_c('trash-icon',{attrs:{\"h\":\"20\",\"w\":\"20\"}})],1),_c('a',{staticClass:\"dvs-mr-4 dvs-text-admin-bg\",attrs:{\"href\":(\"/styled/preview/\" + (_vm.file.url)),\"target\":\"_blank\"}},[_c('link-icon',{attrs:{\"h\":\"20\",\"w\":\"20\"}})],1),_c('a',{staticClass:\"dvs-text-admin-bg\",attrs:{\"href\":(\"/styled/preview/\" + (_vm.file.url)),\"target\":\"_blank\",\"download\":\"\"}},[_c('download-icon',{attrs:{\"h\":\"20\",\"w\":\"20\"}})],1)])]),_c('div',{staticClass:\"dvs-w-1/2\"},[_c('h6',{staticClass:\"dvs-text-xs dvs-uppercase dvs-mb-1\"},[_vm._v(\"Filename\")]),_c('p',{staticClass:\"dvs-text-sm\"},[_vm._v(_vm._s(_vm.file.name))]),_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',{staticClass:\"dvs-text-xs dvs-uppercase dvs-mb-1\"},[_vm._v(\"URL\")]),_c('input',{staticClass:\"w-full\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":_vm.file.url}})]),_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',{staticClass:\"dvs-text-xs dvs-uppercase dvs-mb-1\"},[_vm._v(\"Global Caption\")]),_c('div',{staticClass:\"dvs-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.file.alt),expression:\"file.alt\"}],staticClass:\"dvs-mr-4\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.file.alt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.file, \"alt\", $event.target.value)}}}),_c('button',{staticClass:\"dvs-btn dvs-btn-sm dvs-btn-primary\",on:{\"click\":function($event){return _vm.requestSaveCaption(_vm.file)}}},[_vm._v(\" Save Caption \")])])]),_c('p',[_c('button',{staticClass:\"dvs-btn dvs-btn-sm dvs-btn-primary\",on:{\"click\":function($event){return _vm.selectSourceFile(_vm.file)}}},[_vm._v(\" Select \")])]),(_vm.isActive(_vm.file))?[_c('h6',{staticClass:\"dvs-my-2 dvs-text-sm\"},[_vm._v(\"Appears On\")]),_c('ul',_vm._l((_vm.file.fields),function(field){return _c('li',{key:field.id,staticClass:\"dvs-py-2\"},[_c('a',{staticClass:\"dvs-btn dvs-btn-sm\",attrs:{\"href\":field.page_slug,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(field.page_title)+\" - \"+_vm._s(field.field_name)+\" \")])])}),0)]:_vm._e()],2)]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <transition name=\"fast-fade\">\n      <div\n        v-if=\"file\"\n        class=\"\n          dvs-flex\n          dvs-p-4\n          dvs-overflow-hidden\n          dvs-fixed\n          dvs-absolute-center\n          dvs-z-50\n          dvs-bg-white\n          dvs-p-8\n          dvs-rounded\n          dvs-shadow-lg\n        \"\n      >\n        <div\n          class=\"dvs-absolute z-10 dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4 dvs-cursor-pointer\"\n          @click.stop.prevent=\"closeFile(file)\"\n        >\n          <close-icon w=\"30\" h=\"30\" />\n        </div>\n\n        <div class=\"dvs-w-1/2 dvs-mr-8 dvs-flex dvs-flex-col dvs-justify-between\">\n          <div>\n            <transition name=\"dvs-fade\" mode=\"out-in\">\n              <img\n                v-show=\"file.loaded\"\n                :src=\"`/styled/preview/${file.url}?w=500&h=500`\"\n                class=\"dvs-cursor-pointer dvs-mb-4\"\n                @load=\"file.loaded = true\"\n              />\n            </transition>\n\n            <loading-screen\n              v-if=\"!file.loaded\"\n              key=\"loadingscreen\"\n              :inline=\"true\"\n              inline-message=\"Loading Large Preview\"\n            ></loading-screen>\n          </div>\n\n          <div class=\"dvs-flex\">\n            <div\n              v-devise-alert-confirm=\"{\n                callback: confirmedDeleteFile,\n                arguments: file,\n                message: 'Are you sure you want to delete this media?',\n              }\"\n              class=\"dvs-mr-4 dvs-cursor-pointer dvs-text-admin-bg\"\n            >\n              <trash-icon h=\"20\" w=\"20\" />\n            </div>\n            <a\n              class=\"dvs-mr-4 dvs-text-admin-bg\"\n              :href=\"`/styled/preview/${file.url}`\"\n              target=\"_blank\"\n            >\n              <link-icon h=\"20\" w=\"20\" />\n            </a>\n            <a\n              :href=\"`/styled/preview/${file.url}`\"\n              target=\"_blank\"\n              class=\"dvs-text-admin-bg\"\n              download\n            >\n              <download-icon h=\"20\" w=\"20\" />\n            </a>\n          </div>\n        </div>\n        <div class=\"dvs-w-1/2\">\n          <h6 class=\"dvs-text-xs dvs-uppercase dvs-mb-1\">Filename</h6>\n          <p class=\"dvs-text-sm\">{{ file.name }}</p>\n\n          <fieldset class=\"dvs-fieldset dvs-mb-4\">\n            <label class=\"dvs-text-xs dvs-uppercase dvs-mb-1\">URL</label>\n            <input type=\"text\" class=\"w-full\" :value=\"file.url\" readonly />\n          </fieldset>\n\n          <fieldset class=\"dvs-fieldset dvs-mb-4\">\n            <label class=\"dvs-text-xs dvs-uppercase dvs-mb-1\">Global Caption</label>\n            <div class=\"dvs-flex\">\n              <input v-model=\"file.alt\" type=\"text\" class=\"dvs-mr-4\" />\n              <button class=\"dvs-btn dvs-btn-sm dvs-btn-primary\" @click=\"requestSaveCaption(file)\">\n                Save Caption\n              </button>\n            </div>\n          </fieldset>\n\n          <p>\n            <button class=\"dvs-btn dvs-btn-sm dvs-btn-primary\" @click=\"selectSourceFile(file)\">\n              Select\n            </button>\n          </p>\n\n          <template v-if=\"isActive(file)\">\n            <h6 class=\"dvs-my-2 dvs-text-sm\">Appears On</h6>\n            <ul>\n              <li v-for=\"field in file.fields\" :key=\"field.id\" class=\"dvs-py-2\">\n                <a :href=\"field.page_slug\" target=\"_blank\" class=\"dvs-btn dvs-btn-sm\">\n                  {{ field.page_title }} - {{ field.field_name }}\n                </a>\n              </li>\n            </ul>\n          </template>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'DeviseOpenMediaFile',\n  components: {\n    LoadingScreen: () => import('../../utilities/LoadingScreen.vue'),\n    TrashIcon: () => import('vue-feather-icons/icons/TrashIcon'),\n    CloseIcon: () => import('vue-feather-icons/icons/XIcon'),\n    LinkIcon: () => import('vue-feather-icons/icons/LinkIcon'),\n    DownloadIcon: () => import('vue-feather-icons/icons/DownloadCloudIcon'),\n  },\n  props: {\n    file: {\n      type: Object,\n      default: null,\n    },\n  },\n  methods: {\n    ...mapActions('devise', ['saveCaption', 'deleteFile']),\n    selectSourceFile(file) {\n      this.$emit('selectSourceFile', file)\n    },\n    requestSaveCaption(file) {\n      const payload = {\n        image: file.url,\n        alt_text: file.alt,\n      }\n      this.saveCaption(payload)\n    },\n    confirmedDeleteFile(file) {\n      this.deleteFile(file).then(() => {\n        this.$emit('fileDeleted')\n      })\n    },\n    closeFile() {\n      this.$emit('close')\n    },\n    isActive(file) {\n      return file.used_count > 0\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenMediaFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenMediaFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpenMediaFile.vue?vue&type=template&id=4c1fc168&\"\nimport script from \"./OpenMediaFile.vue?vue&type=script&lang=js&\"\nexport * from \"./OpenMediaFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}