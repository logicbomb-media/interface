(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21408e"],{aee9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("devise-installer-item",{attrs:{id:"nav-site",item:e.item,title:"First Site and Language (required)"}},[a("template",{slot:"instructions"},[a("p",{staticClass:"dvs-mb-4"},[e._v(" Devise works as a multi-tenant system out of the box meaning that you can run multiple sites under the same code base. Even if you are running only one domain Devise needs to know about it. Use the form to the right to set this up. ")]),a("p",{staticClass:"dvs-mb-4"},[e._v(" Each site also needs a language. You can assign any number of languages once you have completed installation. The language should be the "),a("a",{attrs:{href:"https://www.loc.gov/standards/iso639-2/php/code_list.php"}},[e._v("ISO Code")]),e._v(" of that language ")]),a("help",[a("p",{staticClass:"dvs-mb-4"},[e._v(' The domain should not include the http or https:// protocol identifier. So your site entry could be "my-super-awesome-site.com" or "sub-domain.my-super-awesome-site.com". To Support development environments you can override these values in your .env file in the root of your project with something like "SITE_1_DOMAIN=my-super-awesome-site.test" for your local development or staging. ')]),a("p",[a("strong",[e._v("Important:")]),e._v(" The domain should be the "),a("em",[e._v("final")]),e._v(" domain name. If you're working on this site locally you will need to add an override in your .env file like the example to the right. ")])])],1),a("template",{slot:"example"},[a("h3",{staticClass:"dvs-mb-4"},[e._v(" Create Your first Site "),e.item?[e._v("(Already Created)")]:e._e()],2),a("form",{staticClass:"dvs-mb-8",class:{"dvs-opacity-50":e.item}},[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Site Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSite.name,expression:"newSite.name"}],attrs:{type:"text",disabled:e.item},domProps:{value:e.newSite.name},on:{input:function(t){t.target.composing||e.$set(e.newSite,"name",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Site's Actual Domain (See below)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSite.domain,expression:"newSite.domain"}],attrs:{type:"text",disabled:e.item},domProps:{value:e.newSite.domain},on:{input:function(t){t.target.composing||e.$set(e.newSite,"domain",t.target.value)}}})]),e.languages.count?a("fieldset",{staticClass:"dvs-fieldset dvs-mb-6"},[a("label",[e._v("Default Language")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newSite.selectedLanguage,expression:"newSite.selectedLanguage"}],attrs:{disabled:e.item},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newSite,"selectedLanguage",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[e._v("Select a Language")]),e._l(e.languages,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.code)+" ")])}))],2)]):a("fieldset",{staticClass:"dvs-fieldset dvs-mb-6"},[a("label",[e._v("Default Language")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSite.code,expression:"newSite.code"}],attrs:{type:"text",disabled:e.item},domProps:{value:e.newSite.code},on:{input:function(t){t.target.composing||e.$set(e.newSite,"code",t.target.value)}}})]),a("button",{staticClass:"dvs-btn dvs-bg-green-500 dvs-text-white",attrs:{type:"submit",disabled:e.item},on:{click:function(t){return t.preventDefault(),e.attemptCreateSite()}}},[e._v(" Create Site ")])]),a("h3",{staticClass:"dvs-mb-4"},[e._v("A note on the domain during development")]),a("p",[e._v(" If you're working locally using something like Larvel's Valet or Homestead make sure you provide the acutal domain name above and add a development override in your local .env file. Since this is the first site it needs to have a \"1\" (which will be the ID of the site) ")]),a("pre",{staticClass:"lang-bash",attrs:{"data-start":"1"}},[e._v("      "),a("code",[e._v("\n        DVS_DOMAIN_OVERWRITES_ENABLED=true\n        SITE_1_DOMAIN=project-name.test \n      ")]),e._v("\n    ")])])],2)},i=[],s=a("5530"),o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2f62")),l={components:{DeviseInstallerItem:function(){return a.e("chunk-2d0aa24d").then(a.bind(null,"1080"))},Help:function(){return a.e("chunk-2d207ebc").then(a.bind(null,"a31e"))}},props:{item:{type:Boolean,required:!0}},data:function(){return{newSite:{name:"",domain:"",code:"en",selectedLanguage:null,languages:[],settings:{}}}},computed:Object(s["a"])({},Object(o["e"])("devise",{languages:function(e){return e.languages.data}})),methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])("devise",["createSite","createLanguage"])),{},{attemptCreateSite:function(){var e=this;this.languages.count?(this.newSite.languages=[],this.newSite.languages.push({id:this.newSite.selectedLanguage,default:1}),this.createSite(this.newSite)):this.createLanguage(this.newSite).then((function(t){e.newSite.languages=[],e.newSite.languages.push({id:t.data.data.id,default:1}),e.createSite(e.newSite)}))}})},d=l,r=a("2877"),u=Object(r["a"])(d,n,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21408e.e472b37e.js.map