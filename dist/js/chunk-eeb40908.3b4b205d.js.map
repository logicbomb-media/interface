{"version":3,"sources":["webpack:///./src/components/media-manager/MediaManager.vue?9cb0","webpack:///src/components/media-manager/MediaManager.vue","webpack:///./src/components/media-manager/MediaManager.vue?1353","webpack:///./src/components/media-manager/MediaManager.vue","webpack:///./node_modules/js-cookie/src/js.cookie.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","close","defaultImage","selectingFile","selectedFile","_e","type","options","sizes","ref","attrs","imageSettings","url","selectSizeImage","setValue","staticRenderFns","components","MediaEditor","MediaSelector","data","show","mode","directoryToCreate","target","callback","searchTerms","searchResults","searchResultsLimit","currentlyOpenFile","cookieSettings","computed","currentFiles","length","files","uploadHeaders","token","content","watch","loaded","newValue","$nextTick","Cookies","remove","set","mounted","startOpenerListener","methods","value","file","window","deviseSettings","$bus","$on","$set","Object","assign","component","factory","registeredInModuleLoader","module","exports","OldCookies","api","noConflict","extend","i","result","arguments","attributes","key","decode","s","replace","decodeURIComponent","init","converter","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","withConverter"],"mappings":"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","file":"js/chunk-eeb40908.3b4b205d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"\\n    dvs-min-h-screen\\n    dvs-fixed\\n    dvs-inset-0\\n    dvs-flex\\n    dvs-justify-center\\n    dvs-items-center\\n    dvs-z-60\\n    dvs-text-gray-500\\n  \"},[_c('div',{staticClass:\"dvs-blocker dvs-z-30\",on:{\"click\":_vm.close}}),_c('div',{staticClass:\"media-manager dvs-min-w-4/5 dvs-max-h-screenpad dvs-overflow-hidden\"},[(_vm.defaultImage === null || _vm.selectingFile)?_c('media-selector',{on:{\"selectSourceFile\":_vm.selectedFile}}):_vm._e(),(_vm.defaultImage && _vm.defaultImage.type === 'image')?[(typeof _vm.options !== 'undefined' && _vm.options.sizes)?_c('div',[_c('media-editor',{ref:\"sizesmediaeditor\",attrs:{\"image-settings\":_vm.imageSettings,\"default-image\":_vm.defaultImage.url,\"sizes\":_vm.options.sizes},on:{\"selectsizeimage\":_vm.selectSizeImage,\"cancel\":_vm.close,\"done\":_vm.close,\"generatedImages\":_vm.setValue}})],1):_c('div',[_c('media-editor',{attrs:{\"image-settings\":_vm.imageSettings,\"default-image\":_vm.defaultImage.url},on:{\"cancel\":_vm.close,\"done\":_vm.close,\"generatedImages\":_vm.setValue}})],1)]:_vm._e()],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"show\"\n    class=\"\n      dvs-min-h-screen\n      dvs-fixed\n      dvs-inset-0\n      dvs-flex\n      dvs-justify-center\n      dvs-items-center\n      dvs-z-60\n      dvs-text-gray-500\n    \"\n  >\n    <div class=\"dvs-blocker dvs-z-30\" @click=\"close\"></div>\n\n    <div class=\"media-manager dvs-min-w-4/5 dvs-max-h-screenpad dvs-overflow-hidden\">\n      <media-selector\n        v-if=\"defaultImage === null || selectingFile\"\n        @selectSourceFile=\"selectedFile\"\n      >\n      </media-selector>\n\n      <template v-if=\"defaultImage && defaultImage.type === 'image'\">\n        <div v-if=\"typeof options !== 'undefined' && options.sizes\">\n          <media-editor\n            ref=\"sizesmediaeditor\"\n            :image-settings=\"imageSettings\"\n            :default-image=\"defaultImage.url\"\n            :sizes=\"options.sizes\"\n            @selectsizeimage=\"selectSizeImage\"\n            @cancel=\"close\"\n            @done=\"close\"\n            @generatedImages=\"setValue\"\n          />\n        </div>\n\n        <div v-else>\n          <media-editor\n            :image-settings=\"imageSettings\"\n            :default-image=\"defaultImage.url\"\n            @cancel=\"close\"\n            @done=\"close\"\n            @generatedImages=\"setValue\"\n          />\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\n// eslint-disable-next-line no-undef\nconst Cookies = require('js-cookie')\n\nexport default {\n  components: {\n    MediaEditor: () => import('./MediaEditor.vue'),\n    MediaSelector: () => import('./MediaSelector.vue'),\n  },\n  data() {\n    return {\n      show: false,\n      mode: 'list',\n      directoryToCreate: '',\n      target: null,\n      callback: null,\n      searchTerms: null,\n      searchResults: [],\n      defaultImage: null,\n      selectingFile: false,\n      searchResultsLimit: 100,\n      currentlyOpenFile: null,\n      options: null,\n      cookieSettings: false,\n      imageSettings: {},\n    }\n  },\n  computed: {\n    ...mapGetters('devise', ['files', 'directories', 'currentDirectory', 'searchableMedia']),\n    currentFiles() {\n      if (this.searchResults.length > 0) {\n        return this.searchResults\n      }\n      return this.files\n    },\n    uploadHeaders() {\n      const token = document.head.querySelector('meta[name=\"csrf-token\"]')\n      return {\n        'X-CSRF-TOKEN': token.content,\n      }\n    },\n  },\n  watch: {\n    loaded(newValue) {\n      if (newValue === true) {\n        this.$nextTick(() => {\n          if (this.$refs.search) {\n            this.$refs.search.focus()\n          }\n        })\n      }\n    },\n    cookieSettings: (newValue) => {\n      if (!newValue) {\n        Cookies.remove('devise-mediamanager-location')\n        Cookies.remove('devise-mediamanager-mode')\n      }\n    },\n    mode(newValue) {\n      if (this.cookieSettings) {\n        Cookies.set('devise-mediamanager-mode', newValue)\n      }\n    },\n  },\n  mounted() {\n    this.startOpenerListener()\n  },\n  methods: {\n    setValue(value) {\n      if (typeof this.target !== 'undefined') {\n        this.target.value = value\n      }\n      if (typeof this.callback !== 'undefined') {\n        this.callback(value)\n      }\n      this.close()\n    },\n    selectedFile(file) {\n      if (this.defaultImage === null) {\n        this.defaultImage = file\n      }\n      this.selectingFile = false\n\n      this.$nextTick(() => {\n        if (\n          !this.defaultImage ||\n          this.defaultImage.type !== 'image' ||\n          typeof this.options === 'undefined' ||\n          !this.options.sizes\n        ) {\n          this.setValue(file.url)\n        }\n      })\n    },\n    startOpenerListener() {\n      window.deviseSettings.$bus.$on(\n        'devise-launch-media-manager',\n        ({ target, callback, options }) => {\n          this.callback = callback\n          this.target = target\n          this.options = options\n\n          this.show = true\n          this.selectingFile = true\n        }\n      )\n\n      window.deviseSettings.$bus.$on(\n        'devise-launch-media-editor',\n        ({ target, callback, options, image, settings }) => {\n          this.callback = callback\n          this.target = target\n          this.options = options\n          this.imageSettings = settings\n          this.defaultImage = {\n            url: image,\n            type: 'image',\n          }\n\n          this.show = true\n        }\n      )\n    },\n\n    close() {\n      this.selectingFile = false\n      this.$set(this, 'defaultImage', null)\n      this.imageSettings = Object.assign({})\n      this.show = false\n    },\n    selectSizeImage() {\n      this.selectingFile = true\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaManager.vue?vue&type=template&id=24f40c2e&\"\nimport script from \"./MediaManager.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"sourceRoot":""}