(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-621dd6ca","chunk-34ed0e1b","chunk-4ee14f4b"],{"3e67":function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},"5a0c":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",s="second",r="minute",a="hour",o="day",c="week",l="month",u="quarter",d="year",f="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},y={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+p(i,2,"0")+":"+p(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(i,l),r=n-s<0,a=t.clone().add(i+(r?-1:1),l);return+(-(i+(n-s)/(r?s-a:a-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:o,D:f,h:a,m:r,s:s,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",S={};S[b]=m;var $=function(e){return e instanceof k},w=function(e,t,n){var i;if(!e)return b;if("string"==typeof e)S[e]&&(i=e),t&&(S[e]=t,i=e);else{var s=e.name;S[s]=e,i=s}return!n&&i&&(b=i),i||!n&&b},x=function(e,t){if($(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},C=y;C.l=w,C.i=$,C.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e)}var p=m.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(v);if(i){var s=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return C},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return x(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<x(e)},p.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,i=!!C.u(t)||t,u=C.p(e),h=function(e,t){var s=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?s:s.endOf(o)},v=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return i?h(1,0):h(31,11);case l:return i?h(1,m):h(0,m+1);case c:var b=this.$locale().weekStart||0,S=(g<b?g+7:g)-b;return h(i?p-S:p+(6-S),m);case o:case f:return v(y+"Hours",0);case a:return v(y+"Minutes",1);case r:return v(y+"Seconds",2);case s:return v(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,c=C.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[o]=u+"Date",n[f]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[r]=u+"Minutes",n[s]=u+"Seconds",n[i]=u+"Milliseconds",n)[c],v=c===o?this.$D+(t-this.$W):t;if(c===l||c===d){var g=this.clone().set(f,1);g.$d[h](v),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](v);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[C.p(e)]()},p.add=function(i,u){var f,h=this;i=Number(i);var v=C.p(u),g=function(e){var t=x(h);return C.w(t.date(t.date()+Math.round(e*i)),h)};if(v===l)return this.set(l,this.$M+i);if(v===d)return this.set(d,this.$y+i);if(v===o)return g(1);if(v===c)return g(7);var m=(f={},f[r]=t,f[a]=n,f[s]=e,f)[v]||1,p=this.$d.getTime()+i*m;return C.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this;if(!this.isValid())return h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),s=this.$locale(),r=this.$H,a=this.$m,o=this.$M,c=s.weekdays,l=s.months,u=function(e,i,s,r){return e&&(e[i]||e(t,n))||s[i].substr(0,r)},d=function(e){return C.s(r%12||12,e,"0")},f=s.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:C.s(o+1,2,"0"),MMM:u(s.monthsShort,o,l,3),MMMM:u(l,o),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(s.weekdaysMin,this.$W,c,2),ddd:u(s.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:C.s(r,2,"0"),h:d(1),hh:d(2),a:f(r,a,!0),A:f(r,a,!1),m:String(a),mm:C.s(a,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:i};return n.replace(g,(function(e,t){return t||v[e]||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(i,f,h){var v,g=C.p(f),m=x(i),p=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=C.m(this,m);return b=(v={},v[d]=b/12,v[l]=b,v[u]=b/3,v[c]=(y-p)/6048e5,v[o]=(y-p)/864e5,v[a]=y/n,v[r]=y/t,v[s]=y/e,v)[g]||y,h?b:C.a(b)},p.daysInMonth=function(){return this.endOf(l).$D},p.$locale=function(){return S[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=w(e,t,!0);return i&&(n.$L=i),n},p.clone=function(){return C.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},m}(),O=k.prototype;return x.prototype=O,[["$ms",i],["$s",s],["$m",r],["$H",a],["$W",o],["$M",l],["$y",d],["$D",f]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,k,x),e.$i=!0),x},x.locale=w,x.isDayjs=$,x.unix=function(e){return x(1e3*e)},x.en=S[b],x.Ls=S,x.p={},x}))},"72bf":function(e,t,n){"use strict";const i=n("3e67"),s=n("f234"),r=n("f32c"),a=n("7348"),o=e=>null===e||void 0===e;function c(e){switch(e.arrayFormat){case"index":return t=>(n,i)=>{const s=n.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:null===i?[...n,[d(t,e),"[",s,"]"].join("")]:[...n,[d(t,e),"[",d(s,e),"]=",d(i,e)].join("")]};case"bracket":return t=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:null===i?[...n,[d(t,e),"[]"].join("")]:[...n,[d(t,e),"[]=",d(i,e)].join("")];case"comma":case"separator":return t=>(n,i)=>null===i||void 0===i||0===i.length?n:0===n.length?[[d(t,e),"=",d(i,e)].join("")]:[[n,d(i,e)].join(e.arrayFormatSeparator)];default:return t=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:null===i?[...n,d(t,e)]:[...n,[d(t,e),"=",d(i,e)].join("")]}}function l(e){let t;switch(e.arrayFormat){case"index":return(e,n,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return(e,n,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};case"comma":case"separator":return(t,n,i)=>{const s="string"===typeof n&&n.includes(e.arrayFormatSeparator),r="string"===typeof n&&!s&&f(n,e).includes(e.arrayFormatSeparator);n=r?f(n,e):n;const a=s||r?n.split(e.arrayFormatSeparator).map(t=>f(t,e)):null===n?n:f(n,e);i[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function u(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function f(e,t){return t.decode?s(e):e}function h(e){return Array.isArray(e)?e.sort():"object"===typeof e?h(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function v(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function m(e){e=v(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),u(t.arrayFormatSeparator);const n=l(t),i=Object.create(null);if("string"!==typeof e)return i;if(e=e.trim().replace(/^[?#&]/,""),!e)return i;for(const s of e.split("&")){if(""===s)continue;let[e,a]=r(t.decode?s.replace(/\+/g," "):s,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:f(a,t),n(f(e,t),a,i)}for(const s of Object.keys(i)){const e=i[s];if("object"===typeof e&&null!==e)for(const n of Object.keys(e))e[n]=p(e[n],t);else i[s]=p(e,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce((e,t)=>{const n=i[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=h(n):e[t]=n,e},Object.create(null))}t.extract=m,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),u(t.arrayFormatSeparator);const n=n=>t.skipNull&&o(e[n])||t.skipEmptyString&&""===e[n],i=c(t),s={};for(const a of Object.keys(e))n(a)||(s[a]=e[a]);const r=Object.keys(s);return!1!==t.sort&&r.sort(t.sort),r.map(n=>{const s=e[n];return void 0===s?"":null===s?d(n,t):Array.isArray(s)?s.reduce(i(n),[]).join("&"):d(n,t)+"="+d(s,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,i]=r(e,"#");return Object.assign({url:n.split("?")[0]||"",query:y(m(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:f(i,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const i=v(e.url).split("?")[0]||"",s=t.extract(e.url),r=t.parse(s,{sort:!1}),a=Object.assign(r,e.query);let o=t.stringify(a,n);o&&(o="?"+o);let c=g(e.url);return e.fragmentIdentifier&&(c="#"+d(e.fragmentIdentifier,n)),`${i}${o}${c}`},t.pick=(e,n,i)=>{i=Object.assign({parseFragmentIdentifier:!0},i);const{url:s,query:r,fragmentIdentifier:o}=t.parseUrl(e,i);return t.stringifyUrl({url:s,query:a(r,n),fragmentIdentifier:o},i)},t.exclude=(e,n,i)=>{const s=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,s,i)}},7348:function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},i=Object.keys(e),s=Array.isArray(t),r=0;r<i.length;r++){var a=i[r],o=e[a];(s?-1!==t.indexOf(a):t(a,o,e))&&(n[a]=o)}return n}},"792d":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"admin-route-wrapper",staticClass:"\n    dvs-relative\n    dvs-max-w-1/2\n    dvs-self-center\n    dvs-shadow-lg\n    dvs-pointer-events-auto\n    dvs-bg-white\n    dvs-h-full\n  ",staticStyle:{"max-width":"400px"}},[n("div",{staticClass:"h-full"},[n("div",{staticClass:"divide-y divide-gray-200 flex flex-col justify-between h-full"},[n("div",[e.can("manage slices")?n("div",{staticClass:"dvs-pb-16 dvs-relative"},[n("div",{staticClass:"py-6 px-4 bg-indigo-700 sm:px-6 mb-8"},[n("div",{staticClass:"flex items-center justify-between"},[n("h2",{staticClass:"flex dvs-text-lg dvs-font-medium dvs-text-white",attrs:{id:"slide-over-title"}},[n("svg",{staticClass:"dvs-w-6 dvs-h-6",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}})]),n("span",{staticClass:"dvs-ml-2"},[e._v(e._s(e.currentPage.title))])]),n("div",{staticClass:"ml-3 h-7 flex items-center"},[n("button",{staticClass:"\n                    bg-indigo-700\n                    rounded-md\n                    text-indigo-200\n                    hover:text-white\n                    focus:outline-none focus:ring-2 focus:ring-white\n                  "},[n("span",{staticClass:"sr-only"},[e._v("Close panel")]),n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])]),e._m(0)]),n("div",{staticClass:"dvs-p-8 dvs-pt-0"},[e.showTimeTravel?n("fieldset",{staticClass:"dvs-fieldset"},[n("label",[e._v("Preview Date Time")]),n("div",{staticClass:"dvs-flex"},[n("date-picker",{ref:"datepicker",staticClass:"dvs-mr-2",attrs:{settings:{date:!0,time:!0}},model:{value:e.timeTravelDate,callback:function(t){e.timeTravelDate=t},expression:"timeTravelDate"}}),n("button",{staticClass:"\n                    dvs-rounded\n                    dvs-btn\n                    dvs-btn-primary\n                    dvs-btn-sm\n                    dvs-flex\n                    dvs-justify-center\n                    dvs-items-center\n                    dvs-uppercase\n                    dvs-text-xs\n                    dvs-font-bold\n                  ",on:{click:e.timeTravel}},[e._v(" Go ")])],1)]):n("fieldset",{staticClass:"dvs-fieldset"},[n("div",{staticClass:"flex flex-col items-stretch"},[n("div",{staticClass:"dvs-font-medium dvs-mb-2 text-gray-700 dvs-text-sm"},[e._v("Page Version")]),n("devise-select",{attrs:{selected:e.currentVersion.id,options:e.versionOptions},on:{change:e.selectVersion}},[e._v(" "+e._s(e.currentVersion.name)+" ")])],1)])]),e._m(1),n("draggable",e._b({staticClass:"dvs-w-full dvs-px-4 dvs-space-y-1.5",attrs:{list:e.currentPageSlices,tag:"ul"}},"draggable",{group:{name:"slices"},animation:200,ghostClass:"dvs-ghost",handle:".handle",dragClass:"dvs-chosen-drag-slice",emptyInsertThreshold:10,removeCloneOnHide:!1},!1),[e._l(e.currentPageSlices,(function(t,i){return[n("slice-editor",{key:e.randomString(8,i),attrs:{depth:1},on:{opened:function(n){return e.openSlice(t)},addSlice:e.addSlice,editSlice:e.editSlice,removeSlice:e.removeSlice,copySlice:e.copySlice},model:{value:e.currentPageSlices[i],callback:function(t){e.$set(e.currentPageSlices,i,t)},expression:"currentPageSlices[key]"}})]}))],2),n("div",{staticClass:"dvs-mt-1 dvs-ml-4 dvs-mr-4"},[n("button",{staticClass:"\n                dvs-w-full\n                dvs-inline-flex\n                dvs-items-center\n                dvs-px-4\n                dvs-py-3\n                dvs-border\n                dvs-border-transparent\n                dvs-text-xs\n                dvs-font-medium\n                dvs-rounded\n                dvs-shadow-sm\n                dvs-text-indigo-900\n                dvs-bg-indigo-50\n                hover:dvs-bg-indigo-200\n                focus:dvs-outline-none\n                focus:dvs-ring-2\n                focus:dvs-ring-offset-2\n                focus:dvs-ring-indigo-500\n              ",on:{click:function(t){return t.preventDefault(),e.requestAddSlice.apply(null,arguments)}}},[n("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})]),e._v(" Add Slice ")])]),e.additionalPageSettings?n("div",{staticClass:"dvs-px-8"},[n("fieldset",{staticClass:"dvs-fieldset dvs-mb-2"},[n("label",{staticClass:"dvs-mb-2 dvs-cursor-pointer",on:{click:function(t){e.additionalSettingsOpen=!e.additionalSettingsOpen}}},[e._v(" Additional Page Settings ")])]),n("slice-editor-fields",{directives:[{name:"show",rawName:"v-show",value:e.additionalSettingsOpen,expression:"additionalSettingsOpen"}],attrs:{"the-fields":e.additionalPageSettings},model:{value:e.currentPage.settings.fields,callback:function(t){e.$set(e.currentPage.settings,"fields",t)},expression:"currentPage.settings.fields"}})],1):e._e(),n("div",{staticClass:"dvs-relative dvs-flex dvs-flex-col dvs-items-center dvs-px-8"},[!0===e.createSlice?n("manage-slice",{ref:"manageSlice",attrs:{mode:"inserting"},on:{addSlice:e.addSlice,cancel:function(t){e.createSlice=!1}}}):e._e()],1)],1):n("div",[e._m(2)])]),e.can("manage slices")?n("div",{staticClass:"relative flex-shrink-0 px-4 py-4 flex justify-end"},[n("div",{staticClass:"dvs-absolute dvs-bottom-0 dvs-left-0 dvs-mb-5 dvs-ml-4"},[n("toggle",{attrs:{id:e.randomString(8),mini:!0},on:{change:e.setDevMode}})],1),n("button",{staticClass:"\n            bg-white\n            py-2\n            px-4\n            border border-gray-300\n            rounded-md\n            shadow-sm\n            text-sm\n            font-medium\n            text-gray-700\n            hover:bg-gray-50\n            focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\n          ",attrs:{type:"button"}},[e._v(" Cancel ")]),n("button",{staticClass:"\n            ml-4\n            inline-flex\n            justify-center\n            py-2\n            px-4\n            border border-transparent\n            shadow-sm\n            text-sm\n            font-medium\n            rounded-md\n            text-white\n            bg-indigo-600\n            hover:bg-indigo-700\n            focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\n          ",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e._v(" Save Page ")])]):e._e()])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-1"},[n("p",{staticClass:"text-sm text-indigo-300"},[e._v(" Click on the edit icon above to edit this page's meta information. Below are the slices used in this page's presentation. ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dvs-px-8"},[n("div",{staticClass:"dvs-font-medium dvs-mb-2 text-gray-700 dvs-text-sm"},[e._v("Page Slices")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dvs-p-8"},[n("fieldset",{staticClass:"dvs-fieldset"},[n("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-stretch"},[n("h4",[e._v("Administration")]),n("p",{staticClass:"dvs-mt-4"},[e._v("Use the icons along the left column to navigate.")])])])])}],r=n("53ca"),a=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("d81d"),n("b0c0"),n("a434"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("99af"),n("841c"),n("2f62")),c=n("7e6e"),l=n("29ec"),u=n("72bf"),d={name:"PageEditor",components:{DatePicker:c["default"],draggable:function(){return n.e("chunk-4a5f46a6").then(n.t.bind(null,"b76a",7))},ManageSlice:function(){return n.e("chunk-2d0d6f55").then(n.bind(null,"7589"))},SliceEditor:function(){return n.e("chunk-2d0afdcd").then(n.bind(null,"0fab"))},SliceEditorFields:function(){return n.e("chunk-2d0b1be3").then(n.bind(null,"20c2"))},Toggle:function(){return n.e("chunk-2d212b5c").then(n.bind(null,"aa28"))},DeviseSelect:function(){return n.e("chunk-2d210886").then(n.bind(null,"b7fa"))}},mixins:[l["a"]],data:function(){return{saving:!1,createSlice:!1,showTimeTravel:!1,timeTravelDate:null,additionalSettingsOpen:!1,queryString:u}},computed:Object(a["a"])(Object(a["a"])({},Object(o["c"])("devise",["currentPage","sliceConfig"])),{},{currentPageSlices:function(){return this.currentPage.slices},additionalPageSettings:function(){var e=this;if(window.deviseSettings.$config.additionalPageSettings){var t=window.deviseSettings.$config.additionalPageSettings.find((function(t){return t.siteId===e.currentPage.site_id}));if(t)return t.fields}return!1},versionOptions:function(){var e=[];return this.currentPage.versions.map((function(t){var n=t.name;t.current&&(n+='<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800">\n  Currently Viewing\n</span>'),t.is_live&&(n+=' <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">\n  Live\n</span>'),e.push({label:n,value:t.id})})),e.push({label:"Time Travel Preview",value:"timetravel"}),e},currentVersion:function(){return this.currentPage.versions.find((function(e){return e.current}))}}),mounted:function(){var e=this;this.additionalPageSettings&&(this.currentPage.settings.fields=Object.assign({},this.additionalPageSettings,this.currentPage.settings.fields)),setTimeout((function(){e.$watch("currentPage",(function(){window.onbeforeunload=function(){return"Changes you made may not be saved"}}),{deep:!0})}),1e3)},methods:Object(a["a"])(Object(a["a"])({},Object(o["b"])("devise",["savePage","setDevMode"])),{},{requestSavePage:function(){var e=this;this.saving=!0,this.savePage({page:this.currentPage}).then((function(e){480===e?window.deviseSettings.$bus.$emit("showForceSave"):window.onbeforeunload=null})).finally((function(){e.saving=!1,e.recalculateScroll()}))},goToEditPage:function(){this.$router.push({name:"devise-pages-admin",params:{workflowKey:"jumpto-edit-page",pageId:this.currentPage.id}})},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.currentPage.slices.map((function(e){return t.closeSlice(e)})),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)},requestAddSlice:function(){this.createSlice=!0},addSlice:function(e,t){if("undefined"!==typeof t){var n=this.sliceConfig(t);!0===n.has_child_slot&&("undefined"===typeof t.slices&&this.$set(t,"slices",[]),t.slices.push(e))}else!0===e.metadata.has_child_slot&&"undefined"===typeof e.slices&&this.$set(e,"slices",[]),this.currentPage.slices.push(e);this.createSlice=!1},findReferenceSliceInSlices:function(e,t){var n=this;return e.find((function(e){return e===t?e:e.slices?n.findReferenceSliceInSlices(e.slices,t):void 0}))},editSlice:function(e,t){e.metadata.has_child_slot&&(e.slices=t.slices),this.currentPage.slices.splice(this.currentPage.slices.indexOf(t),1,e)},setSubSliceInstaceToZero:function(e){for(var t=0;t<e.length;t+=1)e[t].metadata.instance_id=0,"object"===Object(r["a"])(e[t].slices)&&e[t].slices.length>0&&(e[t].slices=this.setSubSliceInstaceToZero(e[t].slices));return e},copySlice:function(e,t){null===t&&(t=this.currentPage);var n=JSON.parse(JSON.stringify(e));n.metadata.instance_id=0,"object"===Object(r["a"])(n.slices)&&n.slices.length>0&&(n.slices=this.setSubSliceInstaceToZero(n.slices)),t.slices.push(n)},removeSlice:function(e,t){"undefined"===typeof t&&(t=this.currentPage),t.slices.splice(t.slices.indexOf(e),1)},selectVersion:function(e){if("timetravel"===e.target.value)return this.showTimeTravel=!0,!1;var t=parseInt(e.target.value,0),n=document.location.href,i="";return n.includes("version_id")?(i=n.replace(/(version_id=[0-9]*)/g,"version_id=".concat(t)),document.location.href=i,!0):(i=n,i=i.includes("?")?"".concat(i,"&"):"".concat(i,"?"),document.location.href="".concat(i,"version_id=").concat(t),!0)},timeTravel:function(){var e={time_travel_to:this.timeTravelDate},t=this.queryString.stringify(e);return document.location.search=t,!0},recalculateScroll:function(){var e=this;this.$nextTick((function(){"undefined"!==typeof e.$refs.Scrollbar&&(e.$refs.Scrollbar.calculateSize(),e.$refs.Scrollbar.scrollToY(0))}))}})},f=d,h=n("2877"),v=Object(h["a"])(f,i,s,!1,null,null,null);t["default"]=v.exports},"7e6e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flat-pickr",{ref:"picker",staticClass:"w-full",attrs:{config:e.config,placeholder:e.placeholder},model:{value:e.localDateTime,callback:function(t){e.localDateTime=t},expression:"localDateTime"}})},s=[],r=(n("d3b7"),n("3ca3"),n("ddb0"),n("5a0c")),a={components:{flatPickr:function(){return n.e("chunk-6ed52977").then(n.t.bind(null,"c38f",7))}},props:{value:{required:!0},settings:{type:Object,default:function(){return{date:!0,time:!0}}},placeholder:{type:String,default:"Please select from the calendar"}},data:function(){return{config:{noCalendar:!this.settings.date,enableTime:this.settings.time,onChange:this.updateValue}}},computed:{localDateTime:{get:function(){return this.value},set:function(e){this.$emit("input",e),this.$emit("change",e)}}},methods:{updateValue:function(e){e=this.formatValue(e),this.localDateTime=e},formatValue:function(e){return this.settings.format?r(e).format(this.settings.format):this.settings.date&&this.settings.time?r(e).format("YYYY-MM-DD HH:mm:ss"):this.settings.date&&!this.settings.time?r(e).format("YYYY-MM-DD"):!this.settings.date&&this.settings.time?r(e).format("HH:mm:ss"):null}}},o=a,c=n("2877"),l=Object(c["a"])(o,i,s,!1,null,null,null);t["default"]=l.exports},f234:function(e,t,n){"use strict";var i="%[a-f0-9]{2}",s=new RegExp(i,"gi"),r=new RegExp("("+i+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(s){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],a(n),a(i))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(s),n=1;n<t.length;n++)e=a(t,n).join(""),t=e.match(s);return e}}function c(e){var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(l){var i=o(n[0]);i!==n[0]&&(t[n[0]]=i)}n=r.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return c(e)}}},f32c:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}}}]);
//# sourceMappingURL=chunk-621dd6ca.559bf844.js.map