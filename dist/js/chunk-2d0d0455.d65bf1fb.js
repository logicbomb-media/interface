(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0455"],{"66ed":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentStep?n("admin-container",{scopedSlots:t._u([{key:"message",fn:function(){return[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"dvs-cursor-pointer dvs-flex dvs-flex-col dvs-items-center",on:{click:t.back}},[n("arrow-left-circle-icon",{staticClass:"mb-1"}),n("span",{staticClass:"dvs-text-2xs dvs-uppercase"},[t._v("Back")])],1),n("div",{staticClass:"dvs-px-8",domProps:{innerHTML:t._s(t.currentStep.message)}})])]},proxy:!0},{key:"content",fn:function(){return[n("transition",{attrs:{name:"dvs-fade",mode:"out-in"}},[n(t.currentStep.component,{tag:"component",attrs:{step:t.currentStep,values:t.values},on:{done:t.done,cancel:t.cancel}})],1)]},proxy:!0}],null,!1,2452802325)}):t._e()},o=[],i=(n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("fb6a"),n("159b"),n("a434"),{name:"DeviseWorkflow",components:{AdminContainer:function(){return n.e("chunk-2d0e6364").then(n.bind(null,"987f"))},ArrowLeftCircleIcon:function(){return n.e("chunk-ac36a6ac").then(n.bind(null,"2f56"))},WorkflowIndex:function(){return n.e("chunk-1c98d37e").then(n.bind(null,"309f"))},WorkflowMenu:function(){return n.e("chunk-2d0deaf7").then(n.bind(null,"8768"))},WorkflowSearch:function(){return n.e("chunk-f88c466c").then(n.bind(null,"704d"))}},props:{workflow:{type:Array,required:!0}},data:function(){return{workflowStack:[]}},computed:{index:function(){return this.workflow.find((function(t){return t.index}))},currentStep:function(){return this.workflowStack.slice(-1)[0]},values:function(){var t={};return this.workflowStack.forEach((function(e){t=Object.assign(t,e.value)})),t}},mounted:function(){this.$route.params&&this.$route.params.workflowKey?this.jumpToStep(this.$route.params.workflowKey):this.index&&this.workflowStack.push(this.index)},methods:{done:function(t){this.workflowStack[this.workflowStack.length-1].value=t,this.loadStep()},cancel:function(){this.clearStack()},back:function(){this.workflowStack.length>1?(this.workflowStack.splice(-1,1),delete this.currentStep.value,window.deviseSettings.$bus.$emit("dvs-admin-container-content-changed")):this.$router.go(-1)},jumpToStep:function(t){var e=this.workflow.find((function(e){return e.key===t}));this.$set(e,"jumpedTo",!0),this.$set(e,"jumpedToParams",this.$route.params),this.workflowStack.push(e)},loadStep:function(){var t=null;if(this.currentStep.end||this.currentStep.value&&this.currentStep.value.end)this.clearStack();else{var e=this.workflowStack[this.workflowStack.length-2],n=null;"undefined"!==typeof this.currentStep.nextStep?n=this.currentStep.nextStep:"undefined"!==typeof this.currentStep.value&&(n=this.currentStep.value.nextStep),n?t=this.workflow.find((function(t){return t.key===n})):e&&e.value.stepAfterNext&&(t=this.workflow.find((function(t){return t.key===e.value.stepAfterNext}))),t?(this.workflowStack.push(Object.assign({},t)),window.deviseSettings.$bus.$emit("dvs-admin-container-content-changed")):console.warn("There is no step registered as ".concat(n))}},clearStack:function(){this.workflowStack=[this.index],window.deviseSettings.$bus.$emit("dvs-admin-container-content-changed")}}}),s=i,c=n("2877"),a=Object(c["a"])(s,r,o,!1,null,null,null);e["default"]=a.exports}}]);
//# sourceMappingURL=chunk-2d0d0455.d65bf1fb.js.map